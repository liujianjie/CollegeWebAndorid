<!doctype html>
<html>
<head>
<meta charset = "utf-8">
<title>PersonalPage</title>
	  <link rel="stylesheet" href="style/Main.css"/>
</head>
<body>
		
	<!--Top开始-->
	<!-- 最上面的一部分显示，左边放图片和文字 右边放 导航栏 -->
	<div class = "topcontent">
		<div class = "topcontentcontent">
			<div class = "topcontentcontentleftdiv">
				<!--topcontentcontentleftdiv里定义了样式使文字在图片水平middle位置-->
				<img src = "images/image_1.png" width="45px" height = "45px" align = "left"> 
				<font size = "5">My   First   Web   Page</font>
			</div>
			<div class="topcontentcontentrightdiv" >
				<nav>
					<ul >
						<li style=""><a style="">Option1</a></li>
						<li style=""><a style="">Option2</a></li>
						<li style=""><a style="">Option3</a></li>
						<li style=""><a style="">.......</a></li>
					</ul>
				</nav>
			</div>
		</div>

	</div>
	<!--Top结束-->


	<!--中间 开始-->
	<!--最外层div -->
	<div id="container">
		<!--下一层div定义了宽度-->
		<div class="maincontent">
			<!--中间容器的左边 开始。左边div占1/3 ，有两个样式 一个定义位置 宽度，一个row 是为了与右边占2/3的div高度相对应，使左边高度多少 右边div高度也多少 更改页面尺寸大小使能不会显示偏移-->
			<div class="leftcontent row">
	
				<div class="leftcontentdiv" >
					<!--同样leftcontentdiv里定义了文字在图片的水平middle位置 -->
					<img src = "images/image_1.png" width = "80px" height = "80px" > 
					<font size = "5">Username</font>
				</div>
					
				<!--使用html5新元素 dl 使呈现列形式，并且自动缩进功能，将左边页面分成3个块 Personal Information、Last Opinions、My Preferences，用dl代表一个块 再写内容进去-->
				<dl class="leftcontentdl" >
					<dl style ="width:100%">
						<div><a href = "#" class = "personalInfoAndLastO" onclick = "outPersonalInfo();">Personal Information</a></div>
						<!--下面style使超出的****** 或者 文字 在页面尺寸更改后能自动换行和隐藏 美观-->
						<dl style ="width:100%;word-wrap:break-word;
								word-break:break-all;overflow: hidden;">
							<dd>
								<span>******************************************************************************************************************************************************************************************************************************************************************
								</span>
							</dd>
						</dl>
						<hr size = "1" color = "#797979" width = "100%" align = "left">
					</dl>
					<dl style ="width:100%">
						<div><a href = "#" class = "personalInfoAndLastO" onclick = "outLastOpinions();">Last Opinions</a></div>
						<dl>
							<dd><a href = "#" onclick = "openAddtionalWindow(this);" id = "res">爱你多一点 餐厅, City,State</a></dd>
							<dd><strong>good good good good</strong></dd>
						</dl>
						<dl>
							<dd><a href = "#" onclick = "openAddtionalWindow(this);" id = "mov">Restourant X, City,State </a></dd>
							<dd><strong>good good good good</strong></dd>
						</dl>
						<dl>
							<dd><a href = "#" onclick = "openAddtionalWindow(this);" id = "aircraft">Restourant X, City,State</a></dd>
							<dd><strong>good good good good</strong></dd>
						</dl>
						<hr size = "1" color = "#797979" width = "100%" align = "left">
					</dl>
					<!-- 让dl横着排 取消默认竖列显示，使用 border样式使dd呈现边框为矩形-->
					<dl style ="width:100%">
						<div >
							<div style = "width:50%;float:left">
								My Preferences
							</div>
							<div style = "width:50%;float:right">
								<img src = "images/image_plus.png" style="float:right" onclick = "addMyPreferences();"> 
							</div>
						</div>
						
						<div  style= "clear:right"></div>

						<dl class="leftcontentmypredl">
							<dd>		
								<dl id = "needAddPlace">
									<dd id = "2">
										Weekend
										<img src = "images/X.png" align = "right" onclick = "removeSelf(this);">
									</dd>
									<dd >
										Volunteer
										<img src = "images/X.png" align = "right" onclick = "removeSelf(this);">
									</dd>
									<dd >
										Friends
										<img src = "images/X.png" align = "right" onclick = "removeSelf(this);">
									</dd>
								</dl>
								
							</dd>
						</dl>
						<!--<dl>-->
					</dl>
				</dl>
			</div>
			<!--中间的左边 结束-->


			<!--中间的右边 开始-->
			<!--样式中定义了2/3位置-->
			<div class="rightcontent row" id = "centerContent">
					

			</div>
			<!--中间的右边 结束-->

		</div>

	</div>
	
	</div>
	<!--中间 结束-->

	<!--页脚 开始-->
	<!--使用nav 导航栏 自动排列横行，footer样式中定义了背景颜色，显示位置，字体-->
	<nav class="footer" >
			<img src="images/image_face.png" width="30px" height="30px" style="vertical-align:middle">
			<a href="https://www.facebook.com/">Facebook |</a>
			<img src="images/image_twitter.png" width="30px" height="30px" style="vertical-align:middle">
			<a href="https://www.twitter.com/">Twitter |</a>
			<img src="images/image_vk.png" width="30px" height="30px" style="vertical-align:middle">
			<a href="https://vk.com/">Vine</a>
	</nav>
	<!--页脚 结束-->
	<script type="text/javascript">
		function outPersonalInfo(){
			var content = "<div class = 'contentDiV'><header><font size = '5'>Personal Information</font></header><div style='margin-top:3%'><input style=' width:45%;height:25px;float: left' value='Name'/><input style=' width:45%;height:25px;float: right' value='SurName'/ ></div><div><input style=' width:100%;height:25px;margin-top:3%' value='email'/ ></div><div style='margin-top:3%'><input style=' width:45%;height:25px;float: left' value='address'/ ><input style=' width:45%;height:25px;float: right' value='mobile phone'/ ></div><div ><input style=' width:100%;height:25px;margin-top:3%' value='birthday'/ ></div><header style='margin-top:3%'><font size = '5'>My Activity in the App</font></header><dl class='rightcontentradius'><dd>X<br/>points</dd><dd>2<br/>level</dd><dd>3<br/>opinions</dd><dd>5<br/>photos</dd></dl></div>";

			document.getElementById("centerContent").innerHTML = content;
		}
		function outLastOpinions(){
			var content = '<div class = "contentDiV"><header><font size = "5">Last Opinions</font></header><!--两个div层 内容都一样--><div class="contentDivdiv"><div class="rightcontentdiv1"><img src="images/image_1.png"/></div><!--使用dd标签 使处于图片右边位置 并且排列 使呈现 文字出现在图片的水平 上 中 下 位置--><dd class="rightcontentdd"><dl>Restourant Name</dl><dl>City,   Country</dl><dl>Day,Month, Year</dl></dd><div class="rightcontentdiv2"><header style="width:90%"><span>******************************************************************************************************************************************************************************************************************************************************************</span></header></div></div><div class="contentDivdiv"><div class="rightcontentdiv1"><img src="images/image_1.png"/></div><dd class="rightcontentdd"><dl>Restourant Name</dl><dl>City,   Country</dl><dl>Day,Month, Year</dl></dd><div class="rightcontentdiv2"><header style="width:90%"><span>******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************</span></header></div></div><div><div style="text-align:center;margin-top:30px"><span style="margin-top:30dx">Load More</span></div></div></div>';

			document.getElementById("centerContent").innerHTML = content;
			
			/*var s = "sadfads X";
			for(var i = 0; i < s.length; i++){
				alert(s[i]);
			}*/
		}
		function addMyPreferences(){
			var content = '<dd>Weekend<img src = "images/X.png" align = "right"></dd>';
			var dd = document.createElement("dd");
			var input = document.createElement("input");
			var span = document.createElement("span");
			var ddimg = document.createElement("img");
			var dlplace = document.getElementById("needAddPlace");
			
			input.type = "text";
			input.onblur = function(){
				var val = input.value;
				if(val.trim() == ""){
					dlplace.removeChild(dd);
				}else{
					span.innerHTML = val;
					dd.appendChild(span);
					dd.removeChild(input);
				}
			}
			input.onkeypress = function(e){
				var eCode = e.keyCode ? e.keyCode : e.which ? e.which : e.charCode;
				if (eCode == 13){// 按下回车
					input.blur();// 调用失去焦点 即运行那段代码
				}
			}
			
			ddimg.onclick = function(){
				dlplace.removeChild(dd);
			}
			ddimg.src = "images/X.png";
			ddimg.align = "right";

			dd.appendChild(input);
			dd.appendChild(ddimg);

			dlplace.appendChild(dd);

			input.focus();
			
		}
		function removeSelf(node){
			var parentnode = node.parentNode;
			var parentparentnode = parentnode.parentNode;
			parentparentnode.removeChild(parentnode);
		}
		function openAddtionalWindow(Opinion){
			var openUrl = "PopupOpinions.html";//弹出窗口的url
			var iWidth=800; //弹出窗口的宽度;
			var iHeight=600; //弹出窗口的高度;
			var iTop = (window.screen.availHeight-30-iHeight)/2; //获得窗口的垂直位置;
			var iLeft = (window.screen.availWidth-10-iWidth)/2; //获得窗口的水平位置;
			var popup = window.open(openUrl,"","height="+iHeight+", width="+iWidth+", top="+iTop+", left="+iLeft,scrollbars = "yes");
			
			//传入值进去
			var parentDd = Opinion.parentNode;
			var DdText = parentDd.textContent ;
			var infos = DdText.split(",");
			var fullname = "";
			var city = "";
			var state = "";
			for(var val in infos){
				if(val == 0){
					fullname = infos[val];
				}
				if(val == 1){
					city = infos[val];
				}
				if(val == 2){
					state = infos[val];
				}
			}
			var id = Opinion.id;
			if(id == 'res'){
				popup.document.getElementById("showMessage").innerHTML = "<dd id = 'fullname'>full name:"+fullname+"</dd><dd id = 'address'>address:"+city +","+state+"</dd><dd id = 'number of phone'>number of phone:</dd>";
			}
			if(id == 'mov'){
				popup.document.getElementById("showMessage").innerHTML = "<dd id = 'fullname'>full name:"+fullname+"</dd><dd id = 'address'>address:"+city +","+state+"</dd><dd id = 'number of phone'>number of phone:</dd>";
			}
			if(id == 'aircraft'){
				popup.document.getElementById("showMessage").innerHTML = "<dd id = 'fullname'>full name:"+fullname+"</dd><dd id = 'address'>address:"+city +","+state+"</dd><dd id = 'number of phone'>number of phone:</dd>";
			}
			//popup.focus();
		}
	</script>
</body>
</html>