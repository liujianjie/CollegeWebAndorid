<!doctype html>
<html>
<head>
<meta charset = "utf-8">
<title>PersonalPage</title>
	  <link rel="stylesheet" href="style/Main.css"/>
	  <script src="jquery/jquery-3.3.1.min.js"></script>
</head>
<body>
		
	<!--Top开始-->
	<!-- 最上面的一部分显示，左边放图片和文字 右边放 导航栏 -->
	<div class = "topcontent">
		<div class = "topcontentcontent">
			<div class = "topcontentcontentleftdiv">
				<!--topcontentcontentleftdiv里定义了样式使文字在图片水平middle位置-->
				<img src = "images/image_1.png" width="45px" height = "45px" align = "left"> 
				<font size = "5">My   First   Web   Page</font>
			</div>
			<div class="topcontentcontentrightdiv" >
				<nav>
					<ul >
						<li style=""><a onclick = "outMenuLoginAndRegister(this);">Logout</a></li>
						<li style=""><a>Option2</a></li>
						<li style=""><a>Option3</a></li>
					</ul>
					
				</nav>
			</div>
		</div>

	</div>
	<!--Top结束-->


	<!--中间 开始-->
	<!--最外层div -->
	<div id="container">
		<!--下一层div定义了宽度-->
		<div class="maincontent">
			<!--中间容器的左边 开始。左边div占1/3 ，有两个样式 一个定义位置 宽度，一个row 是为了与右边占2/3的div高度相对应，使左边高度多少 右边div高度也多少 更改页面尺寸大小使能不会显示偏移-->
			<div class="leftcontent row">
	
				<div class="leftcontentdiv" >
					<!--同样leftcontentdiv里定义了文字在图片的水平middle位置 -->
					<img id = "LeftProfilePicture" src = "images/image_1.png" width = "80px" height = "80px" > 
					<font size = "5"><span id = "LeftUsername">Username</span></font>
				</div>
					
				<!--使用html5新元素 dl 使呈现列形式，并且自动缩进功能，将左边页面分成3个块 Personal Information、Last Opinions、My Preferences，用dl代表一个块 再写内容进去-->
				<dl class="leftcontentdl" >
					<dl style ="width:100%">
						<div><a href = "#" class = "personalInfoAndLastO" onclick = "outRightPersonalInfo();">Personal Information</a></div>
						<!--下面style使超出的****** 或者 文字 在页面尺寸更改后能自动换行和隐藏 美观-->
						<dl style ="width:100%;word-wrap:break-word;
								word-break:break-all;overflow: hidden;">
							<dd id = "LeftPersonalInfoPlace">
								<span id ="LeftPersonalInfoPlacespan">*****************************************************************************************************************************************************************************************************************************
								</span>
								
							</dd>
						</dl>
						<hr size = "1" color = "#797979" width = "100%" align = "left">
					</dl>
					<dl style ="width:100%">
						<div><a href = "#" class = "personalInfoAndLastO" onclick = "outRightOpinions();">Last Opinions</a></div>
						<dl>
							<dd><a onclick = "openAddtionalWindow(this);" id = "res">幸福小馆 X, Shenzhen,State</a></dd>
							<dd><strong>good good good good</strong></dd>
						</dl>
						<dl>
							<dd><a onclick = "openAddtionalWindow(this);" id = "hotel">禧廷酒店 X, Shanghai,State </a></dd>
							<dd><strong>good good good good</strong></dd>
						</dl>
						<dl>
							<dd><a onclick = "openAddtionalWindow(this);" id = "res2">花乐餐厅 X, Chengdu,State</a></dd>
							<dd><strong>good good good good</strong></dd>
						</dl>
						<hr size = "1" color = "#797979" width = "100%" align = "left">
					</dl>
					<!-- 让dl横着排 取消默认竖列显示，使用 border样式使dd呈现边框为矩形-->
					<dl style ="width:100%">
						<div >
							<div style = "width:50%;float:left">
								My Preferences
							</div>
							<div style = "width:50%;float:right">
								<img src = "images/image_plus.png" style="float:right" onclick = "addMyPreferences();"> 
							</div>
						</div>
						
						<div  style= "clear:right"></div>

						<dl class="leftcontentmypredl">
							<dd>		
								<dl id = "needAddPlace">
									<dd id = "2">
										Weekend
										<img src = "images/X.png" align = "right" onclick = "removeSelf(this);">
									</dd>
									<dd >
										Volunteer
										<img src = "images/X.png" align = "right" onclick = "removeSelf(this);">
									</dd>
									<dd >
										Friends
										<img src = "images/X.png" align = "right" onclick = "removeSelf(this);">
									</dd>
								</dl>
								
							</dd>
						</dl>
						<!--<dl>-->
					</dl>
				</dl>
			</div>
			<!--中间的左边 结束-->

			<!--中间的右边 开始-->
			<!--样式中定义了2/3位置-->
			<div class="rightcontent row" id = "centerContent">
				<div class = "contentDiV">
					<input type="text" value="specify the name and locations" style = "height:25px;width:70%"/>
				</div>
				<div class="contentDiVScrollImg">

					<ul id = "scrollimgulplace">
						<li>桔斯温酒店
							<p>酒店东临环城西山公园，北接黑池坝风景区，三面环水，自然景色十分优美。宾馆内树木苍郁，竹影扶苏，静谧幽雅，鸟语花香，既有”都市鸟岛”的美誉，又有”天然氧吧”的美称；有假山、喷泉、荷花塘和多种花卉供宾客观赏，更有环湖路、湖心岛、石桥、凉亭供游憩，山中有水，水中有山，水光山色，浑然一体，相映成趣，是中外宾客理想的下榻之处。</p>
							<img src = "hotel/1.jpg" width = "400px" height = "300px" />
						</li>
						<li>
							程英酒店
							<p>
								程英酒店有东楼、桂苑、徽苑（建设中）和西苑、南苑、北苑三幢别墅以及临湖俱乐部等各种特色的接待设施，豪华典雅舒适宜人。宾馆有客房331间，床位587张，其中总统套房6套，豪华套房39间，以及标准间249套，每幢楼均配有餐厅。特别是宾馆东楼，建筑面积20000多平方米，客房201间，同时建有接待大厅，有能同时容纳500人就餐的大宴会厅以及各种餐厅包厢28间，有容纳600人的大会礼堂和各种不同风格的会议室、会见厅，27个。宾馆设有中央空调、卫星电视、程控电话、宽带网、商场、地下停车厂、游泳池、网球场、美容美发、医务室、花房等服务设施以及消防自动报警系统和酒店管理网络系统。
							</P>
							<img src = "hotel/2.jpg" width = "400px" height = "300px"/>
						</li>
						<li>
							东昌国酒店
							<p>
								东昌国酒店位于天安门广场东侧，日接待客流量5万人次，内总统间，万人大会堂，可接待国内外游客。同时有特色服务。
							</p>
							<img src = "hotel/3.jpg" width = "400px" height = "300px"/>
						</li>
						<li>工福酒店<img src = "hotel/4.jpg" width = "400px" height = "300px"/></li>
						<li>裕都酒店<img src = "hotel/5.jpg" width = "400px" height = "300px"/></li>
						<li>香大酒店<img src = "hotel/6.jpg" width = "400px" height = "300px"/></li>
					 </ul>
					
				</div>
				<div class="contentDiVScrollImgButton">
					<input type="button" onClick="DivScrollImgLast()" value="forward" />
					<input type="button" onClick="DivScrollImgNext()" value="backward"/>
				</div>
			</div>
			<!--中间的右边 结束-->

		</div>

	</div>
	
	</div>
	<!--中间 结束-->


	<!--页脚 开始-->
	<!--使用nav 导航栏 自动排列横行，footer样式中定义了背景颜色，显示位置，字体-->
	<nav class="footer" >
			<img src="images/image_face.png" width="30px" height="30px" style="vertical-align:middle">
			<a href="https://www.facebook.com/">Facebook |</a>
			<img src="images/image_twitter.png" width="30px" height="30px" style="vertical-align:middle">
			<a href="https://www.twitter.com/">Twitter |</a>
			<img src="images/image_vk.png" width="30px" height="30px" style="vertical-align:middle">
			<a href="https://vk.com/">Vine</a>
	</nav>
	<!--页脚 结束-->

	<!-- 为了给子窗口传入值不是很好地方法-->
	<input type = "hidden" id = "type" >
	<input type = "hidden" id = "imgsrc" >
	<input type = "hidden" id = "review" >

	<script type="text/javascript">
		//全局变量
		var reg = new RegExp(/\w+@[a-z0-9]+\.[a-z]*/);
		var pmdreg = new RegExp(/[a-z0-9]{8}/);
		window.onload=function(){
			
			if (document.cookie.length > 0 ){
				var username = gckPersonalInfoByFname("Username");
				if(username != ""){
					gCkSetPInfo("leftPerInfo");
				}
			}
		}
		var imgindex = 0;
		var lilength = $('#scrollimgulplace li').length;
        $('#scrollimgulplace li').eq(imgindex).css("display","block");
		//$('#scrollimgulplace li').eq(imgindex).css("display","block");
		function DivScrollImgLast(){
            $('#scrollimgulplace li').eq(imgindex).fadeOut(0,"");
			if(imgindex == 0){
				imgindex = lilength - 1;
			}else{
				imgindex--;
			}
            $('#scrollimgulplace li').eq(imgindex).fadeIn(1000,"");
		
		}
		function DivScrollImgNext(){
            $('#scrollimgulplace li').eq(imgindex).fadeOut(0,"");
			if(imgindex == (lilength-1)){
				imgindex = 0;
			}else{
				imgindex++;
			}
		
            $('#scrollimgulplace li').eq(imgindex).fadeIn(1000,"");
		}
		function getRegisterStr(){
			var str = '<form method="post" name = "registerfrm" ><table><tr><td>Username</td><td><input type="text" name="Username" id="Username" value = ""></td></tr><tr><td>Password</td><td><input type="password" name="password" id="password"></td></tr>  <tr><td>Name</td><td><input type="text" name="Name" id="Name"></td></tr>  <tr><td>E-mail</td><td><input type="text" name="email" id="email"></td></tr>  <tr><td>Birth date</td><td><input type="date" id="birthdate" name="birthdate"></td></tr>  <tr><td>Profile picture</td><td><input type="file" accept="image/*" name="profilepicture" id="profilepicture"></td></tr> <tr><td>Address</td><td><input type="text" name="Address" id="Address"></td></tr><tr><td colspan="2" align="left"><input type="checkbox" name="agree" id="agree">I have read and accept the Terms of Use<input type="button" onclick = "checkFormSubm();" value="save" ><input type="reset" value="delete"></td></tr></table></form>';
			return str;
		}
		function getLoginStr(){
			var str = '<form method="post" name = "loginfrm" ><table><tr><td>Password</td><td><input type="password" name="loginpassword" id="loginpassword"></td><tr><td>E-mail</td><td><input type="text" name="loginemail" id="loginemail"></td></tr> <tr><td colspan = 2 align ="left"><input type="button" value="Login" onclick = "return checkLoginSubm();"/></td></tr></table></form>';
			return str;
		}
		function getRightPersonalInfoStr(){
			var content = "<form method='post' name = 'rightPerInfofrm'><div class = 'contentDiV'><header><font size = '5'>Personal Information</font></header><div style='margin-top:3%'><input style=' width:45%;height:25px;float: left' value='Username' name='rtUsername' id='rtUsername'/><input style=' width:45%;height:25px;float: right' value='Name' name='rtName' id='rtName'/ ></div><div><input style=' width:100%;height:25px;margin-top:3%' value='email' name='rtemail' id='rtemail'/ ></div><div style='margin-top:3%'><input style=' width:45%;height:25px;float: left' value='address' name='rtaddress' id='rtaddress'/ ><input style=' width:45%;height:25px;float: right' value='mobile phone'/ ></div><div ><input type='date' style=' width:100%;height:25px;margin-top:3%' value='birthday' name='rtbirthday' id='rtbirthday'/ ></div><header style='margin-top:3%'><font size = '5'>My Activity in the App</font></header><dl class='rightcontentradius'><dd>X<br/>points</dd><dd>2<br/>level</dd><dd>3<br/>opinions</dd><dd>5<br/>photos</dd></dl><div><input type='button' onclick='checkModifyForm();' style=' width:100%;height:25px;margin-top:3%' value='modify'/ ></div></div></form>";
			
			return content;
		}
		
		function getRightOpinionsStr(){
			
			return "";
		}
		
		function outMenuLoginAndRegister(menu){
			var outRegisterTable = getRegisterStr();
			var outLoginTable = getLoginStr();
			var liNode = menu.parentNode;
			var ulNode = liNode.parentNode;
			var lilength = ulNode.getElementsByTagName("li").length;
			if(lilength < 4){
				var a1 = document.createElement("a");
				var a2 = document.createElement("a");
				var li1 = document.createElement("li");
				var li2 = document.createElement("li");

				a1.textContent = "Register";
				a1.onclick = function(){
					document.getElementById("centerContent").innerHTML = outRegisterTable;
				}
				a2.textContent = "Login";
				a2.onclick = function(){
					document.getElementById("centerContent").innerHTML = outLoginTable;
					document.getElementById("loginpassword").focus();
				}
				li1.appendChild(a1);
				li2.appendChild(a2);
				ulNode.appendChild(li1);
				ulNode.appendChild(li2);
			}
		} 
		function checkModifyForm(){

			var saveusername = gckPersonalInfoByFname("Username");
			var savename = gckPersonalInfoByFname("Name");
			var saveemail = gckPersonalInfoByFname("email");
			var savebirthdate = gckPersonalInfoByFname("birthdate");
			var saveAddress = gckPersonalInfoByFname("Address");

			var password = gckPersonalInfoByFname("password");
			var picture = gckPersonalInfoByFname("profilepicture");

			var username = document.rightPerInfofrm.rtUsername.value;
			var name = document.rightPerInfofrm.rtName.value;
			var email = document.rightPerInfofrm.rtemail.value;
			var birthdate = document.rightPerInfofrm.rtbirthday.value;
			var Address = document.rightPerInfofrm.rtaddress.value;
			
			if(username == ""){
				alert("username can not be empty");
				document.getElementById("rtUsername").focus();
				document.getElementById("rtUsername").value = saveusername;
				return false;
			}
			if(name == ""){
				alert("name can not be empty");
				document.getElementById("rtName").focus();
				document.getElementById("rtName").value = savename;
				return false;
			}
			if(email == ""){
		　　　　alert("email can not be empty");
				document.getElementById("rtemail").focus();
				document.getElementById("rtemail").value = saveemail;
		　　　　return false;
		　　}else if(!reg.test(email)){ 
		　　　　alert("Please enter the correct mailbox format");
				document.getElementById("rtemail").focus();
		　　　　return false;
		　　}
			if(birthdate == ""){
				alert("birthdate can not be empty");
				document.getElementById("rtbirthday").focus();
				document.getElementById("rtbirthday").value = savebirthdate;
				return false;
			}
			if(Address == ""){
				alert("Address can not be empty");
				document.getElementById("rtaddress").focus();
				document.getElementById("rtaddress").value = saveAddress;
				return false;
			}
			var Days = 30;
			var exdate = new Date();
			exdate.setTime(exdate.getTime() + Days*24*60*60*1000);//一月

			document.cookie="Username=" + escape(username) + ",Name=" + escape(name) + ",password=" + escape(password)+ ",birthdate=" + escape(birthdate) +",email=" + escape(email) + ",profilepicture=" + escape(picture) +",Address=" + escape(Address) +";expires=" + exdate.toGMTString();
			document.cookie="target=1;expires="+exdate.toGMTString();//做标记用的

			alert("Modify Succuss");
			gCkSetPInfo("leftPerInfo");
			return true;
		}
		function checkLoginSubm(){
			var psd = document.loginfrm.loginpassword.value;
			var email = document.loginfrm.loginemail.value;
			
			if(psd == ""){
				alert("password can not be empty");
				document.getElementById("loginpassword").focus();
				return false;
			} if(!pmdreg.test(psd) || psd.length > 8){ 
				alert("Please enter 8 characters that can only be a~z 0~9");
				document.getElementById("loginpassword").focus();
				return false;
		　　}
			if(email == ""){
		　　　　alert("email can not be empty");
		　　　　return false;
		　　}else if(!reg.test(email)){ 
		　　　　alert("Please enter the correct mailbox format");
		　　　　return false;
		　　}
		    var cookiepwd = gckPersonalInfoByFname("password");
			var cookieemail = gckPersonalInfoByFname("email");
			
			if(cookieemail == ""){
				alert("You have not registered yet, please register and try again");
				return false;
			}
			if(email != cookieemail){
				alert("You are not registered with this email, please log in after registration");
				document.getElementById("loginemail").focus();
				return false;
			}
			if(psd != cookiepwd){
				alert("The passwords do not match. Please  entry again and try again.");
				document.getElementById("loginpassword").focus();
				return false;
			}
			gCkSetPInfo("leftPerInfo");
			outRightPersonalInfo();
			
			return true;
		}
		function checkFormSubm(){
			var username = document.registerfrm.Username.value;
			var password = document.registerfrm.password.value;
			var name = document.registerfrm.Name.value;
			var email = document.registerfrm.email.value;
			var birthdate = document.registerfrm.birthdate.value;
			var picture = document.registerfrm.profilepicture.value;
			var Address = document.registerfrm.Address.value;
			var checkboxs = document.getElementsByName("agree");
			
			if(username == ""){
				alert("username can not be empty");
				document.getElementById("Username").focus();
				return false;
			}
			if(password == ""){
				alert("password can not be empty");
				document.getElementById("password").focus();
				return false;
			} 
			if(!pmdreg.test(password) || password.length > 8){ 
				alert("Please enter 8 characters that can only be a~z 0~9");
				document.getElementById("password").focus();
				return false;
		　　}
			if(name == ""){
				alert("name can not be empty");
				document.getElementById("Name").focus();
				return false;
			}
			
			if(email == ""){
		　　　　alert("email can not be empty");
				document.getElementById("email").focus();
		　　　　return false;
		　　} 
		
			if(!reg.test(email)){ 
		　　　　alert("Please enter the correct mailbox format");
				document.getElementById("email").focus();
		　　　　return false;
		　　}
			var checkemail = gckPersonalInfoByFname("email");
			if(email == checkemail){
				alert("there is already associated with the specified email account,Please log in directly");
				return false;
			}

			if(birthdate == ""){
				alert("birthdate can not be empty");
				document.getElementById("birthdate").focus();
				return false;
			}
			if(!picture){
				alert("picture can not be empty");
				document.getElementById("profilepicture").focus();
				return false;
			}
			if(Address == ""){
				alert("Address can not be empty");
				document.getElementById("Address").focus();
				return false;
			}
			
			if(checkboxs[0].checked == false){
				alert("you need accept the Terms of Use");
				document.getElementById("agree").focus();
				return false;
			}
			var Days = 30;
			var exdate = new Date();
			exdate.setTime(exdate.getTime() + Days*24*60*60*1000);//一月

			document.cookie="Username=" + escape(username) + ",Name=" + escape(name) + ",password=" + escape(password)+ ",birthdate=" + escape(birthdate) +",email=" + escape(email) + ",profilepicture=" + escape(picture) +",Address=" + escape(Address) +";expires=" + exdate.toGMTString();
			document.cookie="target=1;expires="+exdate.toGMTString();//做标记用的
			alert("Registration is successful, please login");
			return true;
		}

		function gckPersonalInfoByFname(f_name){
			var c_end = document.cookie.indexOf(";",0);
			if(c_end != -1){
				var valstr = unescape(document.cookie.substring(0, c_end));
				var valSplitArray = valstr.split(",");
				for(var i in valSplitArray){
					var val = valSplitArray[i];
					var c_middle = val.indexOf("=");
					var c_name = unescape(val.substring(0,c_middle));
					var c_val = unescape(val.substring(c_middle + 1,val.length));
					if(c_name == f_name){
						return c_val;
					}
				}
			}
			return "";
		}
		function gCkSetPInfo(mark){
			var c_end = document.cookie.indexOf(";",0);
			if(c_end != -1){
				//var myCookie = document.cookie.replace(/(?:(?:^|.*;\s*)Name\s*\=\s*([^;]*).*$)|^.*$/, "$1");
				//var allCookies = document.cookie;
				var allCookies = unescape(document.cookie.substring(0, c_end));
				var valSplitArray = allCookies.split(",");
				if(mark == "leftPerInfo"){
					var personalStr = "";
					for(var i in valSplitArray){
						var val = valSplitArray[i];
						var c_middle = val.indexOf("=");
						var c_name = unescape(val.substring(0,c_middle));
						var c_val = unescape(val.substring(c_middle + 1,val.length));
						if(c_name == "Username"){
							document.getElementById("LeftUsername").innerHTML = c_val;
						}
						if(c_name == "Name"){
							personalStr += "<p>Name:"+c_val+"</p>";
						}
						if(c_name == "birthdate"){
							personalStr += "<p>birthdate:"+c_val+"</p>";
						}
						if(c_name == "Address"){
							personalStr += "<p>Address:"+c_val+"</p>";
						}
						if(c_name == "profilepicture"){
							document.getElementById("LeftProfilePicture").src = c_val;
						}
					}
					document.getElementById("LeftPersonalInfoPlace").innerHTML = personalStr;
				}else if(mark == "rightPerInfo"){
					for(var i in valSplitArray){
						var val = valSplitArray[i];
						var c_middle = val.indexOf("=");
						var c_name = unescape(val.substring(0,c_middle));
						var c_val = unescape(val.substring(c_middle + 1,val.length));
						if(c_name == "Username"){
							document.getElementById("rtUsername").value = c_val;
						}
						if(c_name == "Name"){
							document.getElementById("rtName").value = c_val;
						}
						if(c_name == "email"){
							document.getElementById("rtemail").value = c_val;
						}
						if(c_name == "Address"){
							document.getElementById("rtaddress").value = c_val;
						}
						if(c_name == "birthdate"){
							document.getElementById("rtbirthday").value = c_val;
						}
					}
				}
			}
		}

		function outRightPersonalInfo(){
			var content = getRightPersonalInfoStr();
			document.getElementById("centerContent").innerHTML = content;
			gCkSetPInfo("rightPerInfo");
			
		}
		function outRightOpinions(){
			var content = '<div class = "contentDiV"><header><font size = "5">Last Opinions</font></header><!--两个div层 内容都一样--><div class="contentDivdiv"><div class="rightcontentdiv1"><img src="images/image_1.png" align ="left"/></div><!--使用dd标签 使处于图片右边位置 并且排列 使呈现 文字出现在图片的水平 上 中 下 位置--><dd class="rightcontentdd"><dl>Restourant Name</dl><dl>City,   Country</dl><dl>Day,Month, Year</dl></dd><div class="rightcontentdiv2"><header style="width:90%"><span>******************************************************************************************************************************************************************************************************************************************************************</span></header></div></div><div class="contentDivdiv"><div class="rightcontentdiv1"><img src="images/image_1.png"/></div><dd class="rightcontentdd"><dl>Restourant Name</dl><dl>City,   Country</dl><dl>Day,Month, Year</dl></dd><div class="rightcontentdiv2"><header style="width:90%"><span>******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************</span></header></div></div><div><div style="text-align:center;margin-top:30px"><span style="margin-top:30dx">Load More</span></div></div></div>';

			document.getElementById("centerContent").innerHTML = content;
			
		}
		function addMyPreferences(){
			var content = '<dd>Weekend<img src = "images/X.png" align = "right"></dd>';
			var dd = document.createElement("dd");
			var input = document.createElement("input");
			var span = document.createElement("span");
			var ddimg = document.createElement("img");
			var dlplace = document.getElementById("needAddPlace");
			
			input.type = "text";
			input.onblur = function(){
				var val = input.value;
				if(val.trim() == ""){
					dlplace.removeChild(dd);
				}else{
					span.innerHTML = val;
					dd.appendChild(span);
					dd.removeChild(input);
				}
			}
			input.onkeypress = function(e){
				//var eCode = e.keyCode ? e.keyCode : e.which ? e.which : e.charCode;
				if (eCode == 13){// 按下回车
					input.blur();// 调用失去焦点 即运行那段代码
				}
			}
			
			ddimg.onclick = function(){
				dlplace.removeChild(dd);
			}
			ddimg.src = "images/X.png";
			ddimg.align = "right";

			dd.appendChild(input);
			dd.appendChild(ddimg);

			dlplace.appendChild(dd);

			input.focus();
			
		}
		function removeSelf(node){
			var parentnode = node.parentNode;
			var parentparentnode = parentnode.parentNode;
			parentparentnode.removeChild(parentnode);
		}
		function openAddtionalWindow(Opinion){
			var openUrl = "PopupOpinions.html";//弹出窗口的url
			var iWidth=800; //弹出窗口的宽度;
			var iHeight=600; //弹出窗口的高度;
			var iTop = (window.screen.availHeight-30-iHeight)/2; //获得窗口的垂直位置;
			var iLeft = (window.screen.availWidth-10-iWidth)/2; //获得窗口的水平位置;
			var popup = window.open(openUrl,"","height="+iHeight+", width="+iWidth+", top="+iTop+", left="+iLeft+",scrollbars = yes");
			
			//传入值进去

			var parentDd = Opinion.parentNode;
			var DdText = parentDd.textContent ;
			var infos = DdText.split(",");
			var fullname = "";
			var city = "";
			var state = "";
			for(var val in infos){
				if(val == 0){
					fullname = infos[val];
				}
				if(val == 1){
					city = infos[val];
				}
				if(val == 2){
					state = infos[val];
				}
			}

			var id = Opinion.id;
			if(id == 'res'){
				document.getElementById("type").value = "<dd id = 'fullname'>full name:"+fullname+"</dd><dd id = 'address'>address:"+city +","+state+"</dd><dd id = 'number of phone'>number of phone:0707-567345</dd><dd id = 'the type of food served'>the type of food served:Hot Pot</dd>";

				document.getElementById("imgsrc").value = "restaurant/1.jpg";

				document.getElementById("review").value = "Review:味道不得不先夸一夸这家店的服务,看着装修挺一般的服务员的服务态度都很好我们两个人去吃火锅还担心我们吃不掉提醒我们点太多了店里也为了答谢客人在炎熱的夏天也支持火所以送了一盘羊肉巻和冰紛其实味道也挺好吃的辣銹特別的孴麻,清锈我选的是骨汤的完全不是那种白开水煮青菜的味道!!强烈推荐味道不得不先夸一夸这家店的服务,看着装修挺一般的服务员的服务态度都很好我们两个人去吃火锅还担心我们吃不掉提醒我们点太多了店里也为了答谢客人在炎熱的夏天也支持火所以送了一盘羊肉巻和冰紛其实味道也挺好吃的辣銹特別的孴麻,清锈我选的是骨汤的完全不是那种白开水煮青菜的味道!!强烈推荐味道不得不先夸一夸这家店的服务,看着装修挺一般的服务员的服务态度都很好我们两个人去吃火锅还担心我们吃不掉提醒我们点太多了店里也为了答谢客人在炎熱的夏天也支持火所以送了一盘羊肉巻和冰紛其实味道也挺好吃的辣銹特別的孴麻,清锈我选的是骨汤的完全不是那种白开水煮青菜的味道!!强烈推荐味道不得不先夸一夸这家店的服务,看着装修挺一般的服务员的服务态度都很好我们两个人去吃火锅还担心我们吃不掉提醒我们点太多了店里也为了答谢客人在炎熱的夏天也支持火所以送了一盘羊肉巻和冰紛其实味道也挺好吃的辣銹特別的孴麻,清锈我选的是骨汤的完全不是那种白开水煮青菜的味道!!强烈推荐味道不得不先夸一夸这家店的服务,看着装修挺一般的服务员的服务态度都很好我们两个人去吃火锅还担心我们吃不掉提醒我们点太多了店里也为了答谢客人在炎熱的夏天也支持火所以送了一盘羊肉巻和冰紛其实味道也挺好吃的辣銹特別的孴麻,清锈我选的是骨汤的完全不是那种白开水煮青菜的味道!!强烈推荐";
			}
			if(id == 'hotel'){
				document.getElementById("type").value = "<dd id = 'fullname'>full name:"+fullname+"</dd><dd id = 'address'>address:"+city +","+state+"</dd><dd id = 'number of phone'>number of phone:0707-454547345</dd>";

				document.getElementById("imgsrc").value = "hotel/1.jpg";

				document.getElementById("review").value = "Review:1.酒店卫生状况令人担忧，家具上面，电视机上，茶几上都是灰，床底下还有烟头，真不知道有没有打扫过。 2.优点：1：本人入住的是豪华大床房。整个装潢确实很温馨。很有家的感觉！2：豪华房：厅，房动静相隔亦相连！有朋友过来拜访很方便，特别适宜商务人士。另外电视机可以双向观看，人性化！3：榻榻米茶道感觉很好，特别我带日本客人入住，均表示满意！4：温馨提醒热水洗浴时间不宜超过15--20分钟。5：早餐也丰富（4星酒店）。 尚需改进：1：书桌下面放网线的抽屉，最好能够使双向抽取。（本人在卧室这边费了好大劲才在客厅这边把网线拿出）2：电视机转过来，机顶盒是否有效？（无验证）3：日本客人说：如果有浴缸就完美了！4：隔音效果不是最好！5：早餐空间偏小，可能是客人太多的缘故！6：大堂光线是否可以再亮点？ 整体评价：划算，超值！酒店经营理念优秀！ 3.酒店不错.房间设施都蛮新.只是早餐的话,可以多一些品种,要适应更多人. 4.位置不错，离万达广场很近，酒店各方面也蛮好的，就是停车场有点小 5. 酒店环境和早餐都很不错，就是打车很难，不过宁波哪个地方打车都不容易。另外，服务员的效率稍微有点低，其他还是很满意的。 6. 不错，就是交通不方便。不错，就是交通不方便。不错，就是交通不方便。 7.性价比不错，惟一不爽的是网线端口设置太少，网线太远 8.这酒店设施好,服务态度欠佳,早餐比较丰富,交通方便.性价比较高。只是酒店有些不地道，ELONG网络价，团体的比较酒店贵宾卡价高多了。ELONG应去谈谈价，有时差近80元。 9. 前台服务不好，好多人在排队，速度还慢，态度还差。配套设施差，一看就知道用的是便宜货，要什么什么没有，连最基本的加床被子都没有，楼层也没有服务员，电话上总机的按钮尽然是没有用的，很是无语。在宁波住酒店真是冤大头 10.很好！物有所值！唯一缺少的是浴衣。早餐也可以，下次还会入住";
			}
			if(id == 'res2'){
				document.getElementById("type").value = "<dd id = 'fullname'>full name:"+fullname+"</dd><dd id = 'address'>address:"+city +","+state+"</dd><dd id = 'number of phone'>number of phone:0797-23423423</dd><dd id = 'the type of food served'>the type of food served:Northeastern food</dd>";

				document.getElementById("imgsrc").value = "restaurant/2.jpg";

				document.getElementById("review").value = "Review:同事推荐的这菜,軍大而且实惠来。每次都必点烤绍兴做的最好的就是他们3根的样外酥里嫩。地一鲜酱排骨,块头超级大,每个差不多有挙头那么大,肉的很酥";
			
			}
			popup.focus();
		}
	</script>
</body>
</html>